(function(){var e={2119:function(e,t,n){"use strict";var s=n(9242),r=n(3396);const i={class:"flex flex-wrap justify-between1 w-5/6 h-5/6 gap-7"};function o(e,t,n,s,o,a){const u=(0,r.up)("TheUsers"),l=(0,r.up)("TheSettings");return(0,r.wg)(),(0,r.iD)("main",i,[(0,r.Wm)(u),(0,r.Wm)(l)])}const a={class:"list-none cnt-block gap-3 flex-[7] p-[10px] flex-col max-w-full rounded-lg text-white overflow-y-scroll scrollbar"};function u(e,t,n,s,i,o){const u=(0,r.up)("TheResult"),l=(0,r.up)("TheEventSettings"),c=(0,r.up)("TheEventAutomation"),d=(0,r.up)("TheOptions");return(0,r.wg)(),(0,r.iD)("ul",a,[(0,r.Wm)(u),(0,r.Wm)(l),""!==e.currentPreset.id?((0,r.wg)(),(0,r.j4)(c,{key:0})):(0,r.kq)("",!0),(0,r.Wm)(d)])}const l={class:"flex flex-wrap gap-2"};function c(e,t,n,s,i,o){const a=(0,r.up)("v-textarea"),u=(0,r.up)("v-button"),c=(0,r.up)("setting-item");return(0,r.wg)(),(0,r.j4)(c,{settingTitle:"Результат"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{value:e.commandResult,class:"h-60"},null,8,["value"]),(0,r._)("div",l,[(0,r.Wm)(u,{class:"p-3",onClick:o.saveEventsStats},{default:(0,r.w5)((()=>[(0,r.Uk)("скачать отчёт ")])),_:1},8,["onClick"]),(0,r.Wm)(u,{class:"p-3",onClick:o.resetPrizeCount},{default:(0,r.w5)((()=>[(0,r.Uk)("сброс выдач")])),_:1},8,["onClick"]),(0,r.Wm)(u,{class:"p-3",onClick:o.resetCoins},{default:(0,r.w5)((()=>[(0,r.Uk)("сброс коинов")])),_:1},8,["onClick"])])])),_:1})}var d=n(65),p=n(7139);const m={class:"w-full flex flex-col gap-2"},v={class:"text-center text-lg font-bold"};function h(e,t,n,s,i,o){return(0,r.wg)(),(0,r.iD)("li",m,[(0,r._)("h1",v,(0,p.zw)(n.settingTitle),1),(0,r.WI)(e.$slots,"default")])}var f={name:"SettingItem",props:{settingTitle:{type:String,required:!0}}},g=n(89);const w=(0,g.Z)(f,[["render",h]]);var C=w,y={name:"TheResult",components:{SettingItem:C},computed:{...(0,d.Se)({commandResult:"commandResult",defaultCoins:"defaultCoins",defaultPrizeCount:"defaultPrizeCount",currentServer:"currentServer"})},methods:{...(0,d.OI)({updateUsers:"updateUsers"}),resetPrizeCount(){this.updateUsers((e=>(e.prizeCount=this.defaultPrizeCount,e)))},resetCoins(){this.updateUsers((e=>(e.coins=this.defaultCoins,e)))},saveEventsStats(){let e=[...document.querySelectorAll('[data-modalId="time"]')].map((e=>{e.style.display="flex";let t=e.innerText.replace("\nкопировать\nx","");return e.style.display="none",t})).join("\n\n\n\n");const t=document.createElement("a");t.href=window.URL.createObjectURL(new Blob([e],{type:"text/plain"})),t.download=`${this.currentServer}.txt`,t.click()}}};const _=(0,g.Z)(y,[["render",c]]);var b=_;const T=(0,r._)("span",null,"Выбор ивента",-1);function P(e,t,n,s,i,o){const a=(0,r.up)("v-button"),u=(0,r.up)("time-result"),l=(0,r.up)("option-modal"),c=(0,r.up)("v-input-text"),d=(0,r.up)("v-input-select"),m=(0,r.up)("option-configurable"),v=(0,r.up)("setting-item");return(0,r.wg)(),(0,r.j4)(v,{settingTitle:"Настройка ивента"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modalTitle:"История активности ивентов",modalId:"time"},{description:(0,r.w5)((()=>[(0,r.Uk)((0,p.zw)(o.formatedTitleTime),1)])),buttons:(0,r.w5)((()=>[(0,r.Wm)(a,{onClick:t[0]||(t[0]=t=>e.copyTimeText("История активности ивентов"))},{default:(0,r.w5)((()=>[(0,r.Uk)("копировать")])),_:1})])),body:(0,r.w5)((()=>[(0,r.Wm)(u,{ref:"timeResult",times:e.eventsTime},null,8,["times"])])),options:(0,r.w5)((()=>[(0,r.Wm)(a,{class:"p-2",onClick:o.eventTimeToggle},{default:(0,r.w5)((()=>[(0,r.Uk)((0,p.zw)(e.isEventActive?"стоп":"старт"),1)])),_:1},8,["onClick"])])),_:1}),(0,r.Wm)(m,null,{description:(0,r.w5)((()=>[(0,r.Wm)(c,{placeholder:"id сервера",value:e.currentPreset.id,onInput:o.setServerId,class:"w-1/2"},null,8,["value","onInput"])])),option:(0,r.w5)((()=>[(0,r.Wm)(d,{class:"w-48",options:e.servers,defaultOption:e.currentServer,onInput:e.setCurrentServer},null,8,["options","defaultOption","onInput"])])),_:1}),o.eventKeys.length>1?((0,r.wg)(),(0,r.j4)(m,{key:0},{description:(0,r.w5)((()=>[T])),option:(0,r.w5)((()=>[(0,r.Wm)(d,{class:"w-48",options:o.eventKeys,defaultOption:e.currentPreset.currentEvent,onInput:o.setCurrentEvent},null,8,["options","defaultOption","onInput"])])),_:1})):(0,r.kq)("",!0)])),_:1})}n(2262),n(4506);const U={Init:"начало перерыва",EndActions:"конец перерыва",Start:"начало ивента",End:"конец ивента"},k={Raiting:"рейтинг",Time:"время"},x={Default:"дефолт 0",Default_10:"дефолт 10",Default_close:"дефолт клоз",Film:"просмотр фильма",DBD_pub_close:"DBD pub",DBD_full_close:"DBD full"},I={Disabled:"отключен",Activated:"активирован",Join:"подключился",Leave:"отключился",Init:"добавлен"},S={Online:"онлайн",Offline:"оффлайн",Init:"добавлен"},D={Event:"Event",Other:"Other"},O={isOnline:!0,ms:0,action:Object.assign({},I,U)},E={type:D,start:0,end:-1,index:-1,points:[O]||0},A={actions:[E],online:0};n(7658);function W(e=O.action){switch(e){case I.Leave:return!1;case I.Join:return!0;case I.Disabled:return!1;case I.Activated:return!0}}function $(e=0,t={isMs:!0}){let n=Math.floor(e/1e3);const s=Math.floor(n/3600);n=Math.floor(n%3600);const r=Math.floor(n/60);return n=Math.floor(n%60),e=t.isMs?":"+e.toString().slice(-3):"",`${s>9?s:"0"+s}:${r>9?r:"0"+r}:${n>9?n:"0"+n}${e}`}function z(e=A.actions){return j(e.at(-1))}function j(e=E){let t=-1===e.end?Date.now()-e.start:e.end-e.start,n=0,s=0;for(let r=0;r<e.points.length;r++){const t=e.points[r],i=e.points[r-1];t.isOnline!==i?.isOnline&&(!1===t.isOnline?s=t.ms:!0===t.isOnline&&0!==s&&(n+=t.ms-s))}return t-n}function M(e=A.actions){let t={arr:[],ms:0},n={arr:[],ms:0};for(const s of e){const e=j(s);t.ms+=e,t.arr.push(e),s.type===D.Event&&(n.ms+=e,n.arr.push(e))}return{all:t,events:n}}function L(e=A,t=0,n=!1){const s=[...e.actions],r=s.at(-1);return r.end=Date.now(),s.push({type:n?D.Other:D.Event,index:n?-1:t,start:Date.now(),end:-1,points:[]}),{actions:s,online:e.online}}function q(e=A,t=[O.action]){let n=[...e.actions];const s=n.at(-1);for(let r of t){const e={isOnline:W(r),action:r,ms:Date.now()};s.points.push(e)}return{actions:n,online:e.online}}var R={methods:{copy(e="",t=!0){if(""!==e)return navigator?.clipboard?(navigator.clipboard.writeText(e),void(t&&alert("Данные были успешно скопированы в буфер обмена"))):void alert("Ваш браузер не поддерживает копирование в буфер обмена (")},copyTimeText(e=""){this.$nextTick((()=>{this.copy((""===e?"":e+"\n\n")+this.$refs.timeResult.$el.innerText)}))}}};const N={class:"content-field p-2.5 w-full flex flex-wrap items-center gap-2 justify-center lg:justify-between"},Z={class:"flex items-center gap-2"};function V(e,t,n,s,i,o){const a=(0,r.up)("v-modal");return(0,r.wg)(),(0,r.iD)("div",N,[(0,r.Wm)(a,{modalTitle:n.modalTitle,modalId:n.modalId,show:e.showModal,onClose:e.closeModal},{buttons:(0,r.w5)((()=>[(0,r.WI)(e.$slots,"buttons")])),body:(0,r.w5)((()=>[(0,r.WI)(e.$slots,"body")])),_:3},8,["modalTitle","modalId","show","onClose"]),(0,r._)("span",{class:"cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.openModal&&e.openModal(...t))},[(0,r.WI)(e.$slots,"description")]),(0,r._)("div",Z,[(0,r.WI)(e.$slots,"options")])])}var B={data(){return{showModal:!1}},methods:{openModal(){this.showModal=!0},closeModal(){this.showModal=!1}}},F={name:"OptionModal",mixins:[B],props:{modalTitle:{type:String,required:!0},modalId:{type:String}}};const J=(0,g.Z)(F,[["render",V]]);var H=J;const K={class:"content-field p-2.5"},Y={class:"w-full flex flex-wrap items-center gap-2 justify-center lg:justify-between"};function G(e,t,n,s,i,o){return(0,r.wg)(),(0,r.iD)("div",K,[(0,r._)("div",Y,[(0,r.WI)(e.$slots,"description"),(0,r.WI)(e.$slots,"option")])])}var X={name:"OptionConfigurable"};const Q=(0,g.Z)(X,[["render",G]]);var ee=Q;const te={class:"flex flex-col gap-3"},ne={key:0,class:"p-2 flex flex-col"};function se(e,t,n,s,i,o){const a=(0,r.up)("time-action");return(0,r.wg)(),(0,r.iD)("div",te,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.times.actions,((e,t)=>((0,r.wg)(),(0,r.j4)(a,{key:Math.floor(1e10*Math.random()),action:e,online:o.onlineActions.all.arr[t]},null,8,["action","online"])))),128)),this.onlineActions.events.ms>100?((0,r.wg)(),(0,r.iD)("p",ne,[(0,r._)("span",null,"Онлайн ивентов: "+(0,p.zw)(o.formatedOnlineResult.events),1),(0,r._)("span",null,"Общий онлайн: "+(0,p.zw)(o.formatedOnlineResult.all),1)])):(0,r.kq)("",!0)])}const re={class:"flex flex-col gap-3 p-2"},ie={class:""},oe={key:0};function ae(e,t,n,s,i,o){const a=(0,r.up)("time-point");return(0,r.wg)(),(0,r.iD)("p",re,[(0,r._)("h2",ie,(0,p.zw)(o.actionTitle),1),0!==n.action.points.length?((0,r.wg)(),(0,r.iD)("ul",oe,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.action.points,(e=>((0,r.wg)(),(0,r.j4)(a,{point:e,key:Math.floor(1e10*Math.random())},null,8,["point"])))),128))])):(0,r.kq)("",!0)])}const ue={class:"flex items-center text-sm list-mark"},le=(0,r._)("span",{class:"appearance-none opacity-0 w-0 h-0"}," • ",-1);function ce(e,t,n,s,i,o){return(0,r.wg)(),(0,r.iD)("li",ue,[(0,r._)("span",null,[le,(0,r.Uk)((0,p.zw)(o.formatedPoint),1)])])}var de={name:"TimePoint",props:{point:{type:Object,required:!0}},computed:{formatedPoint(){const e=this.point,t=new Date(e.ms);return`${t.toLocaleTimeString()} | ${e.action}`}}};const pe=(0,g.Z)(de,[["render",ce]]);var me=pe,ve={name:"TimeAction",components:{TimePoint:me},props:{action:{type:Object,required:!0},online:{type:Number,required:!0}},computed:{actionTitle(){const e=this.action,t=this.online,n=new Date(e.start),s=n.toLocaleDateString(),r=new Date(e.end),i=r.toLocaleDateString();let o=-1===e.end?`${n.toLocaleTimeString()} - текущий момент`:`${n.toLocaleTimeString()} - ${r.toLocaleTimeString()} (${$(t)})`;return`${e.type===D.Event?`${e.index+1}-й ивент`:"перерыв"} ${-1!==e.end&&s!==i?`${s} - ${i}`:s}: ${o}`}}};const he=(0,g.Z)(ve,[["render",ae]]);var fe=he,ge={name:"TimeResult",components:{TimeAction:fe},props:{times:{type:Object,required:!0}},computed:{onlineActions(){return M(this.times.actions)},formatedOnlineResult(){const e=this.onlineActions;return{events:$(e.events.ms),all:$(e.all.ms)}}}};const we=(0,g.Z)(ge,[["render",se]]);var Ce=we,ye={components:{SettingItem:C,OptionModal:H,OptionConfigurable:ee,TimeResult:Ce},name:"TheEventSettings",mixins:[R],methods:{...(0,d.OI)({setCurrentServer:"setCurrentServer",updateCurrentPreset:"updateCurrentPreset",updateUsers:"updateUsers",updaterStart:"updaterStart",updaterStop:"updaterStop",updaterAddFunction:"updaterAddFunction",eventActionToggle:"eventActionToggle",eventSetOnline:"eventSetOnline"}),setServerId(e){this.updateCurrentPreset((t=>(t.id=e,t)))},eventStart(){this.updateUsers((e=>(e.isActive&&(e.times=L(e.times,this.eventCount,this.isEventActive)),e))),this.eventSetOnline(1),this.eventActionToggle(),this.updaterStart()},eventStop(){this.updateUsers((e=>((e.isActive||e.times.actions.at(-1).type===D.Event)&&(e.times=L(e.times,this.eventCount,this.isEventActive)),e))),this.eventActionToggle(),this.updaterStop()},eventTimeToggle(){this.isEventActive?this.eventStop():this.eventStart()},eventUpdaterToggle(){this.isUpdaterActive?this.updaterStop():this.updaterStart()},setCurrentEvent(e){this.updateCurrentPreset((t=>(t.currentEvent=e,t)))}},computed:{...(0,d.Se)({currentServer:"currentServer",currentPreset:"currentPreset",currentPresetEvent:"currentPresetEvent",servers:"servers",isEventActive:"isEventActive",eventsTime:"eventsTime",eventCount:"eventCount",isUpdaterActive:"isUpdaterActive"}),eventKeys(){return Object.keys(this.currentPreset.events)},formatedTime(){return formatTimeActions(this.eventsTime.actions)},formatedTitleTime(){const e=this.eventsTime,t=1===e.actions.length?void 0:e.actions.at(-1).type===D.Event?e.actions.at(-1):e.actions.at(-2);if(void 0===t)return'Нажмите "старт" для начала ивента';const n=new Date(t.start).toLocaleTimeString();return`${n} `+$(e.online,{isMs:!1})}},created(){this.updaterAddFunction((()=>{this.updateUsers((e=>{if(e.isActive&&(e.times.online=M(e.times.actions).events.ms,this.currentPresetEvent.type===k.Time)){const t=e.times.online/1e3/60;e.coins=Math.floor(t/this.currentPresetEvent.minutesPerPeriod)*this.currentPresetEvent.coinsPerPeriod}return e}))})),this.updaterAddFunction((()=>{this.eventSetOnline(z(this.eventsTime.actions))}))}};const _e=(0,g.Z)(ye,[["render",P]]);var be=_e;const Te=(0,r._)("div",{class:"flex flex-col gap-5"},[(0,r._)("p",null," Дискорд токен треубется для отслеживания и логирования действий пользователей. "),(0,r._)("p",{class:"flex flex-col gap-2"},[(0,r.Uk)(" Проверить добросовестное использование токена со стороны сайта можно следующими способами: "),(0,r._)("ol",null,[(0,r._)("li",null,[(0,r.Uk)(" 1) Посмотреть исходный код сайта "),(0,r._)("a",{href:"https://github.com/LlONED/cmdGenerator",target:"_blank",class:"underline text-blue-500"},"https://github.com/LlONED/cmdGenerator")]),(0,r._)("li",null,' 2) Посмотреть запросы отправляемые сайтом в интруметах разработчика. (Вкладка "Network" (Сеть)). ')])]),(0,r._)("p",{class:"flex flex-col gap-2"},[(0,r.Uk)(" Инструкция для получения токена: "),(0,r._)("ol",null,[(0,r._)("li",null,"1) Зарегистрировать новый аккаунт в дискорде (желательно использовать email, который не был связан с основным аккаунтом)"),(0,r._)("li",null,"2) Зайти на сервер, на котором будет производиться отслеживание голосового канала (Прохождение верификации не требуется)"),(0,r._)("li",null,'3) Перейти в инструменты разработчика (клавиша F12) -> Вкладка "Network (Сеть)" -> раздел "Fetch/XHR"'),(0,r._)("li",null,"4) Обновить страницу"),(0,r._)("li",null,'5) Найти и нажать ЛКМ на запрос содержащий "messages?limit"'),(0,r._)("li",null,'6) В открывшимся справа окне перейти в раздел "Headers (Заголовки)"'),(0,r._)("li",null,'7) В "Request Headers (Заголовки запросов)" найти поле "authorization" -> ПКМ -> копировать значение'),(0,r._)("li",null,"8) Сохранить токен в надёжном месте")])]),(0,r._)("p",null,[(0,r._)("strong",null,"Внимание!!!"),(0,r.Uk)(" Не используйте токен от основного аккаунта дискорда! Частое использование токена путём копирования, хранения в файле повышает вероятность его обнаружения. "),(0,r._)("br"),(0,r.Uk)("Надёжная и безопасная альтернатива - регистрация нового аккаунта в дискорде ")])],-1);function Pe(e,t,n,i,o,a){const u=(0,r.up)("v-input-text"),l=(0,r.up)("option-modal"),c=(0,r.up)("option-input"),d=(0,r.up)("connection-manager"),p=(0,r.up)("setting-item");return(0,r.wg)(),(0,r.j4)(p,{settingTitle:"Автоматизация ивента"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modalTitle:"зачем нужен дискорд токен?"},{description:(0,r.w5)((()=>[(0,r.Uk)(" дискорд токен (описание*) ")])),body:(0,r.w5)((()=>[Te])),options:(0,r.w5)((()=>[(0,r.Wm)(u,{placeholder:"токен",value:o.discordToken,hidden:!0,onInput:a.setDiscordToken},null,8,["value","onInput"])])),_:1}),(0,r.wy)((0,r.Wm)(c,{description:"id голосового канала"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{placeholder:"id",value:o.voiceChatId,onInput:a.setVoiceChatId},null,8,["value","onInput"])])),_:1},512),[[s.F8,a.isDiscordTokenValid]]),(0,r.wy)((0,r.Wm)(d,{token:o.discordToken,serverId:e.currentPreset.id,voiceChatId:o.voiceChatId,users:e.users,onActionsUpdate:a.actionsUpdate},null,8,["token","serverId","voiceChatId","users","onActionsUpdate"]),[[s.F8,o.voiceChatId.length>6]])])),_:1})}const Ue={Init:"инициализирован",Disconnect:"отключён",Connect:"подключён",Loading:"загрузка"},ke={Init:"Init",Update:"Update"},xe={Connect:"подключиться",Loading:"загрузка",Disconnect:"отключиться"},Ie={FailedConnect:"Ошибка в подключении к сокетам, возможно токен введён неверно, или для вашего аккаунта была временно заблокирована возможность подключаться к сокетам"},Se={key:0,class:"flex flex-col gap-3"},De={key:1,class:"flex items-center"};function Oe(e,t,n,s,i,o){const a=(0,r.up)("v-button"),u=(0,r.up)("option-modal");return(0,r.wg)(),(0,r.j4)(u,{modalTitle:"Логи ошибок"},{description:(0,r.w5)((()=>[(0,r.Uk)("управление соединением (просмотр логов*)")])),body:(0,r.w5)((()=>[i.logs.length>0?((0,r.wg)(),(0,r.iD)("div",Se,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.logs,(e=>((0,r.wg)(),(0,r.iD)("p",{key:Math.floor(1e7*Math.random())},(0,p.zw)(e),1)))),128))])):((0,r.wg)(),(0,r.iD)("div",De,"логи отсутствуют"))])),options:(0,r.w5)((()=>[(0,r.Wm)(a,{class:"p-2 flex justify-between items-center gap-3",disabled:o.isDisabled,onClick:o.toggleConnection},{default:(0,r.w5)((()=>[(0,r._)("span",null,(0,p.zw)(o.buttonText),1),(0,r._)("div",{class:(0,p.C_)(o.statusClassName)},null,2)])),_:1},8,["disabled","onClick"])])),_:1})}const Ee=e=>new Promise((t=>setTimeout(t,e)));let Ae=null,We=null,$e=0;var ze={name:"ConnectionManager",components:{OptionModal:H},data(){return{status:Ue.Init,logs:[]}},emits:{actionsUpdate:null},props:{users:{type:Array,required:!0},token:{type:String,required:!0},voiceChatId:{type:String,required:!0},serverId:{type:String,required:!0}},methods:{async toggleConnection(){switch(this.status){case Ue.Disconnect:case Ue.Init:{await this.setLoading(5e3),Ae=new WebSocket("wss://gateway.discord.gg/?v=9&encoding=json");const e=JSON.stringify({op:2,d:{token:this.token,properties:{$os:"windows",$browser:"chrome",$device:"pc"}}}),t=setTimeout((()=>{this.errorLog(Ie.FailedConnect),this.wsClose()}),5e3);return Ae.onopen=function(){Ae.send(e)},Ae.onmessage=({data:e})=>{const{t:n,s:s,op:r,d:i}=JSON.parse(e);if(10!==r){if(9===r)return this.errorLog("Ошибка сессии"),void this.wsClose();if(7===r)return this.errorLog("Требуется переподключение"),void this.wsClose();if("READY"===n&&i.guilds.some((e=>e.id===this.serverId))){const e=JSON.stringify({op:14,d:{guild_id:this.serverId,activities:!0,threads:!0,typing:!0}});Ae.send(e),clearTimeout(t),this.status=Ue.Connect,this.heartbeatStart();const n=i.guilds.find((e=>e.id===this.serverId)),s=n.channels.find((e=>e.id===this.voiceChatId));return void 0===s&&(this.errorLog("Канал не найден"),this.wsClose()),void this.actionsUpdate({action:ke.Init,userActions:n.voice_states.filter((e=>e.channel_id===this.voiceChatId)).map((e=>{const t=n.members.find((t=>t.user.id===e.user_id));return{action:I.Join,id:t.user.id,name:this.validateUserName(t.user.username,t.user.discriminator,t.nick)}}))})}if("VOICE_STATE_UPDATE"===n&&i.guild_id===this.serverId&&(i.channel_id===this.voiceChatId||null===i.channel_id)&&!1===i.member.user.bot){const e=this.users.find((e=>e.id===i.user_id));if(void 0===e&&this.voiceChatId===i.channel_id)return void this.actionsUpdate({action:ke.Update,userActions:[{action:I.Join,id:i.user_id,name:this.validateUserName(i.member.user.username,i.member.user.discriminator,i.member.nick)}]});if(void 0!==e&&e.status!==S.Online&&this.voiceChatId===i.channel_id)return void this.actionsUpdate({action:ke.Update,userActions:[{action:I.Join,id:i.user_id,name:this.validateUserName(i.member.user.username,i.member.user.discriminator,i.member.nick)}]});if(void 0!==e&&e.status===S.Online&&null===i.channel_id)return void this.actionsUpdate({action:ke.Update,userActions:[{action:I.Leave,id:i.user_id,name:this.validateUserName(i.member.user.username,i.member.user.discriminator,i.member.nick)}]})}}else $e=i.heartbeat_interval-500},void(Ae.onerror=e=>{this.errorLog(e?.message||e?.msg||"ошибка в потоке сокетов"),this.wsClose()})}case Ue.Connect:return await this.setLoading(5e3),void this.wsClose()}},heartbeatStart(){We=setInterval((()=>{try{const e=JSON.stringify({op:1,d:null});Ae.send(e)}catch(e){this.errorLog(e?.message||e?.msg||"ошибка в обновлении сокетов"),this.wsClose()}}),$e)},wsClose(){this.status=Ue.Disconnect,Ae.close(),Ae=null,$e=0,null!==We&&(clearInterval(We),We=null)},async setLoading(e=0){this.status=Ue.Loading,await Ee(e)},errorLog(e=""){this.logs.push(e)},actionsUpdate(e={}){this.$emit("actionsUpdate",e)},validateUserName(e="",t="",n=""){return null===n?`${e}#${t}`:n}},computed:{isDisabled(){return this.status===Ue.Loading},buttonText(){switch(this.status){case Ue.Init:case Ue.Disconnect:return xe.Connect;case Ue.Connect:return xe.Disconnect;case Ue.Loading:return xe.Loading}},statusClassName(){const e={[Ue.Init]:"bg-white",[Ue.Disconnect]:"bg-red-700",[Ue.Connect]:"bg-green-700",[Ue.Loading]:"bg-orange-700"};return`w-3 h-3 rounded-full ${e[this.status]}`}}};const je=(0,g.Z)(ze,[["render",Oe]]);var Me=je;const Le={class:"content-field p-2.5"},qe={class:"w-full flex flex-wrap items-center gap-2 justify-center lg:justify-between"};function Re(e,t,n,s,i,o){return(0,r.wg)(),(0,r.iD)("div",Le,[(0,r._)("label",qe,[(0,r._)("span",null,(0,p.zw)(n.description),1),(0,r.WI)(e.$slots,"default")])])}var Ne={name:"OptionInput",props:{description:{type:String,required:!0}}};const Ze=(0,g.Z)(Ne,[["render",Re]]);var Ve=Ze,Be={name:"TheEventAutomation",components:{ConnectionManager:Me,SettingItem:C,OptionModal:H,OptionInput:Ve},data(){return{discordToken:"",voiceChatId:""}},methods:{...(0,d.OI)({addUser:"addUser",removeUser:"removeUser",updateUsers:"updateUsers",updateCurrentPreset:"updateCurrentPreset"}),setDiscordToken(e=""){this.discordToken=e},setVoiceChatId(e=""){this.voiceChatId=e},actionsUpdate({action:e=ke,userActions:t=[{action:I,id:"",name:""}]}){for(const n of t)this.actionUpdate(n)},actionUpdate({action:e=I,id:t="",name:n=""}){const s=this.users.some((e=>e.id===t));e!==I.Join?e!==I.Leave||this.updateUsers((n=>(n.id!==t||(n.isActive=!1,n.status=S.Offline,n.times=q(n.times,[e])),n))):!0===s?this.updateUsers((n=>(n.id!==t||(n.isActive=!0,n.status=S.Online,n.times=q(n.times,[e])),n))):this.addUser({name:n,id:t,status:S.Online,isActive:!0,times:{actions:[{type:this.isEventActive?D.Event:D.Other,index:this.isEventActive?this.eventCount-1:-1,start:Date.now(),end:-1,points:[{ms:Date.now(),action:e,isOnline:!0}]}],online:0}})}},computed:{...(0,d.Se)({users:"users",currentPreset:"currentPreset",isEventActive:"isEventActive",eventCount:"eventCount"}),isDiscordTokenValid(){return this.discordToken.length>6&&3===this.discordToken.split(".").length}}};const Fe=(0,g.Z)(Be,[["render",Pe]]);var Je=Fe;const He=(0,r._)("span",null,"Является ли команда персональной",-1),Ke=(0,r._)("span",null,"Тип ивента",-1);function Ye(e,t,n,s,i,o){const a=(0,r.up)("v-input-checkbox"),u=(0,r.up)("option-configurable"),l=(0,r.up)("v-input-select"),c=(0,r.up)("v-input-number"),d=(0,r.up)("option-input"),p=(0,r.up)("v-input-text"),m=(0,r.up)("setting-item");return(0,r.wg)(),(0,r.j4)(m,{settingTitle:"Опции"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,null,{description:(0,r.w5)((()=>[He])),option:(0,r.w5)((()=>[(0,r.Wm)(a,{class:"w-6 h-6",checked:o.currentEvent.isCommandPersonal,onChange:o.setCommandPersonal},null,8,["checked","onChange"])])),_:1}),(0,r.Wm)(u,null,{description:(0,r.w5)((()=>[Ke])),option:(0,r.w5)((()=>[(0,r.Wm)(l,{class:"w-48",options:Object.values(o.eventType),defaultOption:o.currentEvent.type,onInput:o.setEventType},null,8,["options","defaultOption","onInput"])])),_:1}),o.currentEvent.type===o.eventType.Time?((0,r.wg)(),(0,r.j4)(d,{key:0,description:"Минут в периоде"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{min:1,value:o.currentEvent.minutesPerPeriod,onInput:o.setMinutesPerPeriod},null,8,["value","onInput"])])),_:1})):(0,r.kq)("",!0),o.currentEvent.type===o.eventType.Time?((0,r.wg)(),(0,r.j4)(d,{key:1,description:"Коинов в периоде"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{min:0,value:o.currentEvent.coinsPerPeriod,onInput:o.setCoinsPerPeriod},null,8,["value","onInput"])])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d,{description:"Дефолтное количество выдач"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{value:e.defaultPrizeCount,min:1,onInput:e.setDefaultPrizeCount},null,8,["value","onInput"])])),_:1}),(0,r.Wm)(d,{description:"Дефолтное количество коинов"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{min:1,value:o.currentEvent.coinsDefault,onInput:o.setDefaultCoins},null,8,["value","onInput"])])),_:1}),(0,r.Wm)(d,{description:"Команда выдачи"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{onInput:o.setCommand,value:e.command},null,8,["onInput","value"])])),_:1}),(0,r.Wm)(d,{description:"Сепаратор аргументов"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{placeholder:"сепаратор",value:e.commandSeparator,onInput:o.setCommandSeparator},null,8,["value","onInput"])])),_:1}),(0,r.Wm)(d,{description:"Паттерн аргумента"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{class:"w-full",value:e.commandPattern,onInput:o.setCommandPattern},null,8,["value","onInput"])])),_:1})])),_:1})}var Ge={components:{SettingItem:C,OptionInput:Ve,OptionConfigurable:ee},name:"TheOptions",computed:{...(0,d.Se)({currentPreset:"currentPreset",command:"command",commandSeparator:"commandSeparator",commandPattern:"commandPattern",defaultPrizeCount:"defaultPrizeCount"}),eventType(){return k},currentEvent(){return this.currentPreset.events[this.currentPreset.currentEvent]}},methods:{...(0,d.OI)({updateCurrentPreset:"updateCurrentPreset",setDefaultPrizeCount:"setDefaultPrizeCount"}),setCommandPersonal(e){this.updateCurrentPreset((t=>(t.events[t.currentEvent].isCommandPersonal=e,t)))},setMinutesPerPeriod(e){this.updateCurrentPreset((t=>(t.events[t.currentEvent].minutesPerPeriod=+e,t)))},setCoinsPerPeriod(e){this.updateCurrentPreset((t=>(t.events[t.currentEvent].coinsPerPeriod=+e,t)))},setEventType(e){this.updateCurrentPreset((t=>(t.events[t.currentEvent].type=e,t)))},setDefaultCoins(e){this.updateCurrentPreset((t=>(t.events[t.currentEvent].coinsDefault=+e,t)))},setCommandSeparator(e){this.updateCurrentPreset((t=>""!==t.events[t.currentEvent].commandSeparator?(t.events[t.currentEvent].commandSeparator=e,t):(t.commandSeparator=e,t)))},setCommandPattern(e){this.updateCurrentPreset((t=>""!==t.events[t.currentEvent].commandPattern?(t.events[t.currentEvent].commandPattern=e,t):(t.commandPattern=e,t)))},setCommand(e){this.updateCurrentPreset((t=>""!==t.events[t.currentEvent].command?(t.events[t.currentEvent].command=e,t):(t.command=e,t)))}}};const Xe=(0,g.Z)(Ge,[["render",Ye]]);var Qe=Xe,et={components:{TheResult:b,TheEventAutomation:Je,TheEventSettings:be,TheOptions:Qe},name:"TheSettings",computed:{...(0,d.Se)({currentPreset:"currentPreset"})}};const tt=(0,g.Z)(et,[["render",u]]);var nt=tt;const st={ref:"users",class:"cnt-block flex-[12] overflow-y-scroll overflow-x-hidden p-[10px] flex-col items-center rounded-lg scrollbar"};function rt(e,t,n,s,i,o){const a=(0,r.up)("UsersList"),u=(0,r.up)("v-button");return(0,r.wg)(),(0,r.iD)("div",st,[(0,r.Wm)(a,{users:e.users,onRemoveUser:e.removeUser,onUpdateUser:e.updateUser},null,8,["users","onRemoveUser","onUpdateUser"]),(0,r.Wm)(u,{onClick:t[0]||(t[0]=e=>o.addUserAndUpdateScroll()),class:"px-3 py-2 mt-2"},{default:(0,r.w5)((()=>[(0,r.Uk)("+")])),_:1})],512)}const it={class:"flex flex-col w-full gap-3"};function ot(e,t,n,s,i,o){const a=(0,r.up)("user-item");return(0,r.wg)(),(0,r.iD)("ol",it,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.users,(t=>((0,r.wg)(),(0,r.j4)(a,{key:t._key,user:t,index:e.activeUsers.findIndex((e=>e._key===t._key))+1||"#",eventCount:e.eventCount,isEventActive:e.isEventActive,onUpdateUser:o.updateUserEvent,onRemoveUser:o.removeUserEvent},null,8,["user","index","eventCount","isEventActive","onUpdateUser","onRemoveUser"])))),128))])}const at={class:"content-field flex flex-wrap flex-row justify-between list-none p-4 items-center"},ut={class:"w-8 flex items-center"},lt={class:"flex flex-1 items-center"},ct={class:"flex flex-wrap flex-[7] justify-between items-center gap-3"},dt={class:"w-48 lg:w-40 flex justify-center"},pt={class:"flex flex-wrap flex-[1] lg:justify-end justify-center items-center gap-3"};function mt(e,t,n,s,i,o){const a=(0,r.up)("v-button"),u=(0,r.up)("time-result"),l=(0,r.up)("v-modal"),c=(0,r.up)("v-input-text"),d=(0,r.up)("v-input-number"),m=(0,r.up)("v-input-checkbox");return(0,r.wg)(),(0,r.iD)("li",at,[(0,r.Wm)(l,{modalTitle:o.modalTitle,show:e.showModal,modalId:"time",onClose:e.closeModal},{buttons:(0,r.w5)((()=>[(0,r.Wm)(a,{onClick:t[0]||(t[0]=t=>e.copyTimeText(o.modalTitle))},{default:(0,r.w5)((()=>[(0,r.Uk)("копировать")])),_:1})])),body:(0,r.w5)((()=>[(0,r.Wm)(u,{ref:"timeResult",times:n.user.times},null,8,["times"])])),_:1},8,["modalTitle","show","onClose"]),(0,r._)("div",ut,[(0,r._)("span",null,(0,p.zw)(n.index),1)]),(0,r._)("div",lt,[(0,r._)("div",ct,[(0,r.Wm)(c,{placeholder:"имя",value:n.user.name,onInput:o.updateUserName},null,8,["value","onInput"]),(0,r.Wm)(c,{placeholder:"тег | id",value:n.user.id,onInput:o.updateUserId},null,8,["value","onInput"]),(0,r.Wm)(d,{class:"lg:w-28",placeholder:"выдача",min:1,value:n.user.prizeCount,onInput:o.updateUserPrizeCount},null,8,["value","onInput"]),(0,r.Wm)(d,{class:"lg:w-28",placeholder:"коины",min:0,value:n.user.coins,onClick:t[1]||(t[1]=e=>e.target.select()),onInput:o.updateUserCoins},null,8,["value","onInput"]),(0,r._)("div",dt,[(0,r._)("span",{class:"cursor-pointer",onClick:t[2]||(t[2]=(...t)=>e.openModal&&e.openModal(...t))},(0,p.zw)(o.formatedTimeTitle),1)])]),(0,r._)("div",pt,[(0,r.Wm)(m,{class:"w-6 h-6",checked:n.user.isActive,disabled:""===n.user.id,onChange:o.toggleActiveTimes},null,8,["checked","disabled","onChange"]),(0,r.Wm)(a,{class:"w-6 h-7",onClick:t[3]||(t[3]=e=>o.removeUserEvent(n.user._key))},{default:(0,r.w5)((()=>[(0,r.Uk)("-")])),_:1})])])])}var vt={name:"UserItem",components:{TimeResult:Ce},emits:{removeUser:null,updateUser:null},mixins:[R,B],props:{user:{type:Object,required:!0},index:{type:[String,Number],required:!0},eventCount:{type:Number,required:!0},isEventActive:{type:Boolean,required:!0}},methods:{toggleActiveTimes(e){this.$emit("updateUser",{_key:this.user._key,update:t=>!0===e&&!0===this.isEventActive&&this.user.times.actions.at(-1).type!==D.Event?(t.times=L(this.user.times,this.eventCount-1,!1),t.isActive=!0,t):!0===e?(t.times=q(this.user.times,[I.Activated]),t.isActive=!0,t):(t.times=q(this.user.times,[I.Disabled]),t.isActive=!1,t)})},updateUserName(e){this.$emit("updateUser",{_key:this.user._key,update:t=>(t.name=e,t)})},updateUserId(e){this.$emit("updateUser",{_key:this.user._key,update:t=>(t.id=e,t)})},updateUserCoins(e){this.$emit("updateUser",{_key:this.user._key,update:t=>(t.coins=e,t)})},updateUserPrizeCount(e){this.$emit("updateUser",{_key:this.user._key,update:t=>(t.prizeCount=e,t)})},updateUserActive(e){this.$emit("updateUser",{_key:this.user._key,update:t=>(t.isActive=e,t)})},updateUserTimes(e){this.$emit("updateUser",{_key:this.user._key,update:t=>(t.times=e,t)})},removeUserEvent(e){this.$emit("removeUser",e)},formatTimeLastJoin(e=A.actions){let t=0;e:for(let n=e.length;n--;){const s=e[n];for(const e of s.points)if(e.action===I.Init||e.action===I.Join||e.action===I.Activated){t=e.ms;break e}}return t}},computed:{modalTitle(){return`история активности ${this.user.name||this.user.id?.slice(0,21)||"пользователя"}`},formatedTimeTitle(){const e=this.user.times,t=new Date(this.formatTimeLastJoin(e.actions)||e.actions.at(-1).start);return 0===e.online?`${t.toLocaleTimeString()} 00:00:00`:`${t.toLocaleTimeString()} ${$(e.online,{isMs:!1})}`}},watch:{"user.id"(e,t){""===e?this.toggleActiveTimes(!1):""===t&&""!==e&&this.toggleActiveTimes(!0)}}};const ht=(0,g.Z)(vt,[["render",mt]]);var ft=ht,gt={name:"UsersList",emits:{removeUser:null,updateUser:null},components:{UserItem:ft},props:{users:{type:Array,reqire:!0}},methods:{updateUserEvent(e){this.$emit("updateUser",e)},removeUserEvent(e){this.$emit("removeUser",e)}},computed:{...(0,d.Se)({activeUsers:"activeUsers",isEventActive:"isEventActive",eventCount:"eventCount"})}};const wt=(0,g.Z)(gt,[["render",ot]]);var Ct=wt,yt={name:"TheUsers",components:{UsersList:Ct},computed:{...(0,d.Se)({users:"users"})},methods:{...(0,d.OI)({addUser:"addUser",updateUser:"updateUser",removeUser:"removeUser"}),scrollBottom(){this.$nextTick((()=>{const e=this.$refs.users.scrollHeight,t=this.$refs.users.clientHeight;e>t&&(this.$refs.users.scrollTop=e)}))},addUserAndUpdateScroll(){this.addUser({}),this.scrollBottom()}},mounted(){this.addUser({})}};const _t=(0,g.Z)(yt,[["render",rt]]);var bt=_t,Tt={name:"App",components:{TheSettings:nt,TheUsers:bt}};const Pt=(0,g.Z)(Tt,[["render",o]]);var Ut=Pt;function kt(e=A.actions){return e.at(-1).type===D.Event}function xt(e=A.actions){return e.filter((e=>e.type===D.Event)).length}function It(e="",t={id:"",count:0,i:0,prizeCount:1}){const n=[{desc:"%i<count>%",required:["i"],pattern:new RegExp(/%i(\d)%/g),logic(e="",t=0){return e.replace(this.pattern,((e,n)=>+n<t+1?t+1:""))}},{desc:"%user%",required:["id"],pattern:new RegExp("%user%","g"),logic(e="",t=""){return e.replace(this.pattern,t)}},{desc:"%count%",required:["count","prizeCount"],pattern:new RegExp("%count%","g"),logic(e="",t=0,n=1){return e.replace(this.pattern,t*n)}}];for(const s of n)e=s.logic(e,...s.required.map((e=>t[e])));return e}function St({isCommandPersonal:e,commandSeparator:t,commandPattern:n,command:s,users:r}){return!0===e?r.map(((e,r)=>s+t+It(n,{id:e.id,count:e.coins,prizeCount:e.prizeCount,i:r}))).join("\n").trim():`${s} ${r.map(((e,t)=>It(n,{id:e.id,count:e.coins,prizeCount:e.prizeCount,i:t}))).join(t)}`}function Dt({coinsDefault:e=0,minutesPerPeriod:t=1,coinsPerPeriod:n=0,isCommandPersonal:s=!1,commandPattern:r="",commandSeparator:i="",command:o="",matchCase:a=[],type:u=k.Raiting}){return{coinsDefault:e,minutesPerPeriod:t,coinsPerPeriod:n,isCommandPersonal:s,commandPattern:r,commandSeparator:i,command:o,matchCase:a,type:u}}function Ot({id:e="",commandPattern:t="%user% %count%",commandSeparator:n=" ",command:s="/give",currentEvent:r=x.Default,events:i={[x.Default]:Dt({}),[x.Default_10]:Dt({coinsDefault:10,matchCase:["свояк","своя игра","codenames","пазлы"]})}}){return{id:e,commandPattern:t,commandSeparator:n,command:s,currentEvent:r,events:i}}var Et={default:Ot({}),lounge:Ot({id:"254958490676625408",commandPattern:"пользователь%i1%:%user% количество%i1%:%count%",command:"/event prize",events:{[x.Default]:Dt({}),[x.Default_10]:Dt({coinsDefault:10,matchCase:["свояк","своя игра","codenames","пазлы"]}),[x.Default_close]:Dt({type:k.Time,minutesPerPeriod:20,coinsPerPeriod:10,isCommandPersonal:!0,commandPattern:"пользователь:%user% количество:%count%",command:"/give",matchCase:["close","клоз"]}),[x.Film]:Dt({type:k.Time,minutesPerPeriod:20,coinsPerPeriod:10,matchCase:["смотр","фильм"]}),[x.DBD_pub_close]:Dt({type:k.Time,minutesPerPeriod:20,coinsPerPeriod:10,isCommandPersonal:!0,commandPattern:"пользователь:%user% количество:%count%",command:"/give",matchCase:["dbd pub"]}),[x.DBD_full_close]:Dt({coinsDefault:10,isCommandPersonal:!0,commandPattern:"пользователь:%user% количество:%count%",command:"/give",matchCase:["dbd"]})}}),meta:Ot({id:"822354240713261068"}),hinomaru:Ot({id:"965383061749522502"}),futurama:Ot({id:"531970658633252864"}),heligate:Ot({id:"1001139842131955752"}),tenderly:Ot({id:"457902248660434944"}),hatory:Ot({id:"894663985650081864"})},At=(0,d.MT)({state:()=>({users:[],eventsTime:{actions:[{type:D.Other,start:Date.now(),end:-1,index:-1,points:[]}],online:0},currentServer:"default",presets:Et,defaultCoins:0,defaultPrizeCount:1,updater:{functions:[],refreshTimer:1e3,interval:null}}),getters:{users(e){return e.users},currentServer(e){return e.currentServer},currentPreset(e){return e.presets[e.currentServer]},currentPresetEvent(e){return e.presets[e.currentServer].events[e.presets[e.currentServer].currentEvent]},activeUsers(e){return e.users.filter((e=>!0===e.isActive))},defaultCoins(e,t){return t.currentPresetEvent.coinsDefault},defaultPrizeCount(e){return e.defaultPrizeCount},isCommandPersonal(e,t){return t.currentPresetEvent.isCommandPersonal},command(e,t){return t.currentPresetEvent.command||t.currentPreset.command},commandPattern(e,t){return t.currentPresetEvent.commandPattern||t.currentPreset.commandPattern},commandSeparator(e,t){return t.currentPresetEvent.commandSeparator||t.currentPreset.commandSeparator},commandResult(e,t){return St({isCommandPersonal:t.isCommandPersonal,command:t.command,commandPattern:t.commandPattern,commandSeparator:t.commandSeparator,users:t.activeUsers})},servers(e){return Object.keys(e.presets)},eventsTime(e){return e.eventsTime},eventCount(e){return xt(e.eventsTime.actions)},isEventActive(e){return kt(e.eventsTime.actions)},isUpdaterActive(e){return null!==e.updater.interval}},mutations:{updateUser(e,{_key:t=0,update:n=(e=>e)}){e.users=e.users.map((e=>e._key===t?n(e):e))},updateUsers(e,t=(e=>e)){e.users=e.users.map((e=>t(e)))},removeUser(e,t=0){e.users=e.users.filter((e=>e._key!==t))},addUser(e,{_key:t=Math.floor(1e7*Math.random()),id:n="",name:s="",coins:r=e.presets[e.currentServer].events[e.presets[e.currentServer].currentEvent].coinsDefault,prizeCount:i=e.defaultPrizeCount,status:o=S.Init,isActive:a=!1,times:u={actions:[{type:kt(e.eventsTime.actions)?D.Event:D.Other,index:kt(e.eventsTime.actions)?xt(e.eventsTime.actions)-1:-1,start:Date.now(),end:-1,points:[{ms:Date.now(),action:I.Disabled,isOnline:!1}]}],online:0}}){e.users.push({_key:t,id:n,name:s,coins:r,prizeCount:i,status:o,isActive:a,times:u})},setCurrentServer(e,t=""){e.currentServer=t},setDefaultCoins(e,t=0){e.defaultCoins=t},setDefaultPrizeCount(e,t=0){e.defaultPrizeCount=t},updateCurrentPreset(e,t=(e=>e)){e.presets[e.currentServer]=t(e.presets[e.currentServer])},updaterStart(e){e.updater.interval=setInterval((()=>{for(const t of e.updater.functions)t()}),e.updater.refreshTimer)},updaterStop(e){null!==e.updater.interval&&(clearInterval(e.updater.interval),e.updater.interval=null)},updaterAddFunction(e,t=(()=>{})){e.updater.functions.push(t)},eventActionToggle(e){e.eventsTime=L(e.eventsTime,xt(e.eventsTime.actions),kt(e.eventsTime.actions))},eventSetOnline(e,t=0){e.eventsTime.online=t},addPointTimeEvent(e,t=[O.action]){e.eventsTime=q(e.eventsTime,t)}},actions:{}});const Wt=n(9771),$t=(0,s.ri)(Ut);Wt.keys().forEach((e=>{$t.component(Wt(e).default.name,Wt(e).default)})),$t.use(At).mount("#root")},4929:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(3396);const r={type:"button",class:"text-white bg-zinc-700 hover:bg-zinc-600 border-none rounded"};function i(e,t,n,i,o,a){return(0,s.wg)(),(0,s.iD)("button",r,[(0,s.WI)(e.$slots,"default")])}var o={name:"VButton"},a=n(89);const u=(0,a.Z)(o,[["render",i]]);var l=u},9159:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var s=n(3396);const r={class:"relative cursor-pointer"},i=["disabled","checked"],o=(0,s._)("span",{class:"w-full h-full bg-red-700 absolute rounded"},null,-1);function a(e,t,n,a,u,l){return(0,s.wg)(),(0,s.iD)("label",r,[(0,s._)("input",{disabled:n.disabled,type:"checkbox",class:"input__checkbox appearance-none absolute z-0 top-0 left-0 right-0 bottom-0 focus-visible:outline-offset-1",checked:n.checked,onChange:t[0]||(t[0]=(...e)=>l.onChange&&l.onChange(...e))},null,40,i),o])}var u={name:"VInputCheckbox",emits:{change:null},props:{checked:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},methods:{onChange(e){this.$emit("change",e.target.checked)}}},l=n(89);const c=(0,l.Z)(u,[["render",a]]);var d=c},118:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(3396);const r=["value","placeholder","min","max"];function i(e,t,n,i,o,a){return(0,s.wg)(),(0,s.iD)("input",{type:"number",class:"input__string",onInput:t[0]||(t[0]=(...e)=>a.updateInput&&a.updateInput(...e)),value:n.value,placeholder:n.placeholder,min:n.min,max:n.max},null,40,r)}var o={name:"VInputNumber",emits:{input:null},methods:{updateInput(e){this.$emit("input",+e.target.value)}},props:{value:{type:Number,default:""},placeholder:{type:String,default:""},min:{type:Number,require:!1},max:{type:Number,require:!1}}},a=n(89);const u=(0,a.Z)(o,[["render",i]]);var l=u},4699:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var s=n(3396),r=n(7139),i=n(9242);const o={class:"button__select"},a=(0,s._)("span",null,"▼",-1),u={class:"absolute z-10 w-full flex flex-col bg-zinc-700"},l=["onClick"];function c(e,t,n,c,d,p){return(0,s.wg)(),(0,s.iD)("button",{class:"cnt__select",onBlur:t[0]||(t[0]=e=>d.open=!1),onClick:t[1]||(t[1]=e=>p.clickHandler()),onKeydown:t[2]||(t[2]=e=>p.toggleAciveSelect(e))},[(0,s._)("div",o,[(0,s._)("span",null,(0,r.zw)(n.defaultOption),1),a]),(0,s.wy)((0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.options,(e=>((0,s.wg)(),(0,s.iD)("div",{key:Math.floor(1e8*Math.random()),class:(0,r.C_)({button__select:!0,"hover:bg-zinc-600":e!==d.selectedOption,active:e===d.selectedOption}),onClick:(0,i.iM)((t=>p.select(e)),["stop"])},(0,r.zw)(e),11,l)))),128))],512),[[i.F8,d.open]])],32)}n(2262),n(4506);var d={name:"VInputSelect",data(){return{open:!1,selectedOption:this.defaultOption}},props:{options:{type:Array,required:!0},defaultOption:{type:String,required:!0}},methods:{clickHandler(){this.open=!this.open,this.selectedOption!==this.defaultOption&&this.select(this.selectedOption)},toggleAciveSelect(e){if(!1!==this.open)switch(e.code){case"KeyW":case"ArrowUp":{e.preventDefault();let t=this.options.findIndex((e=>e===this.selectedOption));return 0===t?void(this.selectedOption=this.options.at(-1)):void(this.selectedOption=this.options[t-1])}case"KeyS":case"ArrowDown":{e.preventDefault();let t=this.options.findIndex((e=>e===this.selectedOption));return t===this.options.length-1?void(this.selectedOption=this.options[0]):void(this.selectedOption=this.options[t+1])}}},select(e){e!==this.defaultOption?(this.selectedOption=e,this.$emit("input",e),this.open=!1):this.open=!1}},watch:{defaultOption(){this.selectedOption!==this.defaultOption&&(this.selectedOption=this.defaultOption)},open(e){!1===e&&(this.selectedOption=this.defaultOption)}}},p=n(89);const m=(0,p.Z)(d,[["render",c]]);var v=m},6733:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(3396);const r=["type","placeholder"];function i(e,t,n,i,o,a){return(0,s.wg)(),(0,s.iD)("input",{type:n.hidden?"password":"text",placeholder:n.placeholder,onInput:t[0]||(t[0]=(...e)=>a.updateInput&&a.updateInput(...e)),class:"input__string"},null,40,r)}var o={name:"VInputText",emits:{input:null},methods:{updateInput(e){this.$emit("input",e.target.value)}},props:{placeholder:{type:String,default:""},hidden:{type:Boolean,default:!1}}},a=n(89);const u=(0,a.Z)(o,[["render",i]]);var l=u},503:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var s=n(3396),r=n(9242),i=n(7139);const o=["data-modalId"],a={class:"flex justify-between items-center"},u={class:"uppercase"},l={class:"flex flex-wrap justify-end gap-2"},c={class:"w-full max-h-[500px] overflow-y-scroll scrollbar"};function d(e,t,n,d,p,m){const v=(0,s.up)("v-button");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{class:"fixed flex justify-center items-center top-0 left-0 bottom-0 right-0 bg-zinc-600 bg-opacity-40 w-full h-full z-10","data-modalId":n.modalId,onClick:t[1]||(t[1]=(...e)=>m.close&&m.close(...e))},[(0,s._)("div",{onClick:t[0]||(t[0]=(0,r.iM)((()=>{}),["stop"])),class:"rounded-md bg-zinc-800 flex flex-col gap-3 min-w-[280px] w-2/5 p-3.5"},[(0,s._)("header",a,[(0,s._)("h1",u,(0,i.zw)(n.modalTitle),1),(0,s._)("div",l,[(0,s.WI)(e.$slots,"buttons",{class:"py-2 px-3"}),(0,s.Wm)(v,{class:"py-2 px-3 bg-red-700 hover:bg-red-800",onClick:m.close},{default:(0,s.w5)((()=>[(0,s.Uk)("x")])),_:1},8,["onClick"])])]),(0,s._)("main",c,[(0,s.WI)(e.$slots,"body")])])],8,o)),[[r.F8,n.show]])}var p={name:"VModal",emits:{close:null},props:{show:{type:Boolean,required:!0},modalTitle:{type:String,required:!0},modalId:{type:String}},methods:{close(){this.$emit("close",null)}},watch:{show(){this.show?document.querySelector("body").classList.add("overflow-hidden"):document.querySelector("body").classList.remove("overflow-hidden")}}},m=n(89);const v=(0,m.Z)(p,[["render",d],["__scopeId","data-v-22e8334d"]]);var h=v},3862:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(3396),r=n(7139);function i(e,t,n,i,o,a){return(0,s.wg)(),(0,s.iD)("div",{class:(0,r.C_)(a.className)},null,2)}var o={name:"VStatus",props:{status:{type:String,require:!0}},computed:{className(){const e={init:"hidden",loading:"bg-orange-700",success:"bg-green-700",error:"bg-red-700"};return`rounded-full ${e[this.status]}`}}},a=n(89);const u=(0,a.Z)(o,[["render",i]]);var l=u},1430:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(3396);const r=["placeholder","value"];function i(e,t,n,i,o,a){return(0,s.wg)(),(0,s.iD)("textarea",{class:"resize-none bg-zinc-900 rounded-md px-2 py-3 scrollbar",placeholder:n.placeholder,value:n.value},null,8,r)}var o={name:"VTextarea",props:{value:{type:String,default:""},placeholder:{type:String,default:""}}},a=n(89);const u=(0,a.Z)(o,[["render",i]]);var l=u},9771:function(e,t,n){var s={"./VButton.vue":4929,"./VInputCheckbox.vue":9159,"./VInputNumber.vue":118,"./VInputSelect.vue":4699,"./VInputText.vue":6733,"./VModal.vue":503,"./VStatus.vue":3862,"./VTextarea.vue":1430};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id=9771}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,s,r,i){if(!s){var o=1/0;for(c=0;c<e.length;c++){s=e[c][0],r=e[c][1],i=e[c][2];for(var a=!0,u=0;u<s.length;u++)(!1&i||o>=i)&&Object.keys(n.O).every((function(e){return n.O[e](s[u])}))?s.splice(u--,1):(a=!1,i<o&&(o=i));if(a){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,i,o=s[0],a=s[1],u=s[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(u)var c=u(n)}for(t&&t(s);l<o.length;l++)i=o[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},s=self["webpackChunkcmd_generator_vue"]=self["webpackChunkcmd_generator_vue"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(2119)}));s=n.O(s)})();
//# sourceMappingURL=app.adfe190a.js.map